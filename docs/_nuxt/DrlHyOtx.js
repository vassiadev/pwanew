const __vite__fileDeps=["./NTI5kVkS.js","./ah3Vr_zj.js","./entry.BYsVMPQz.css","./BruPbqzt.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{r as c,o as m,v as _,O as n,P as w,a3 as h,R as v,z as g,a4 as s,t as i,a2 as C,a5 as p}from"./ah3Vr_zj.js";const P={class:"d-flex flex-column w-100 h-100 ovfys"},x={__name:"pwa",setup(y){const d={Default:s(()=>p(()=>import("./NTI5kVkS.js"),__vite__mapDeps([0,1,2]),import.meta.url)),Square:s(()=>p(()=>import("./BruPbqzt.js"),__vite__mapDeps([3,1,2]),import.meta.url))},o=c(),t=c({config:"https://pub-dfe68d058a7349ccbf50d909c9ced095.r2.dev",data:"https://pub-dfe68d058a7349ccbf50d909c9ced095.r2.dev",media:"https://pub-dfe68d058a7349ccbf50d909c9ced095.r2.dev"});m(()=>{l()});async function l(){try{let e=u(),a;try{if(e==="localhost"&&(e=f("site"),t.value.config="/api/"+e,t.value.data="/api/data/1/",t.value.media="/api/media/1/"),a=await fetch(t.value.config+"/config.json"),!a.ok)throw new Error("Файл не найден")}catch{a=await fetch("/default.json")}o.value=await a.json()}catch(e){console.log(e)}}function u(){return window.location.hostname.replace(/^www\./,"")}function f(e){return new URLSearchParams(window.location.search).get(e)}return(e,a)=>{const r=C;return i(),_("div",P,[n(o)?(i(),w(h(d[n(o).template]),{key:0,appConfig:n(o),api:n(t)},null,8,["appConfig","api"])):v("",!0),g(r)])}}};export{x as default};
