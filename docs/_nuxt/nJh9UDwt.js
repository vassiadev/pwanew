import{a7 as C,a8 as T,O as _,a9 as j,aa as H,ab as x,r as h,H as m,i as O,o as N,K as P}from"./ah3Vr_zj.js";function A(e){return C()?(T(e),!0):!1}function w(e){return typeof e=="function"?e():_(e)}const D=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const R=e=>e!=null,Y=Object.prototype.toString,B=e=>Y.call(e)==="[object Object]",y=()=>{},M=G();function G(){var e,t;return D&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}const X={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function $(...e){if(e.length!==1)return j(...e);const t=e[0];return typeof t=="function"?H(x(()=>({get:t,set:y}))):h(t)}function g(e){var t;const n=w(e);return(t=n==null?void 0:n.$el)!=null?t:n}const k=D?window:void 0;function K(...e){let t,n,o,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,s]=e,t=k):[t,n,o,s]=e,!t)return y;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const u=[],f=()=>{u.forEach(l=>l()),u.length=0},r=(l,a,p,v)=>(l.addEventListener(a,p,v),()=>l.removeEventListener(a,p,v)),c=m(()=>[g(t),w(s)],([l,a])=>{if(f(),!l)return;const p=B(a)?{...a}:a;u.push(...n.flatMap(v=>o.map(d=>r(l,v,d,p))))},{immediate:!0,flush:"post"}),i=()=>{c(),f()};return A(i),i}function q(){const e=h(!1),t=P();return t&&N(()=>{e.value=!0},t),e}function z(e){const t=q();return O(()=>(t.value,!!e()))}function F(e,t,n={}){const{root:o,rootMargin:s="0px",threshold:u=.1,window:f=k,immediate:r=!0}=n,c=z(()=>f&&"IntersectionObserver"in f),i=O(()=>{const d=w(e);return(Array.isArray(d)?d:[d]).map(g).filter(R)});let l=y;const a=h(r),p=c.value?m(()=>[i.value,g(o),a.value],([d,V])=>{if(l(),!a.value||!d.length)return;const E=new IntersectionObserver(t,{root:g(V),rootMargin:s,threshold:u});d.forEach(I=>I&&E.observe(I)),l=()=>{E.disconnect(),l=y}},{immediate:r,flush:"post"}):y,v=()=>{l(),p(),a.value=!1};return A(v),{isSupported:c,isActive:a,pause(){l(),a.value=!1},resume(){a.value=!0},stop:v}}function W(e,t={}){const{window:n=k,scrollTarget:o,threshold:s=0}=t,u=h(!1);return F(e,f=>{let r=u.value,c=0;for(const i of f)i.time>=c&&(c=i.time,r=i.isIntersecting);u.value=r},{root:o,window:n,threshold:s}),u}const ee={[X.mounted](e,t){if(typeof t.value=="function"){const n=t.value,o=W(e);m(o,s=>n(s),{immediate:!0})}else{const[n,o]=t.value,s=W(e,o);m(s,u=>n(u),{immediate:!0})}}};function b(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}function L(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!n||n.tagName==="BODY"?!1:L(n)}}function J(e){const t=e||window.event,n=t.target;return L(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const S=new WeakMap;function Q(e,t=!1){const n=h(t);let o=null,s="";m($(e),r=>{const c=b(w(r));if(c){const i=c;if(S.get(i)||S.set(i,i.style.overflow),i.style.overflow!=="hidden"&&(s=i.style.overflow),i.style.overflow==="hidden")return n.value=!0;if(n.value)return i.style.overflow="hidden"}},{immediate:!0});const u=()=>{const r=b(w(e));!r||n.value||(M&&(o=K(r,"touchmove",c=>{J(c)},{passive:!1})),r.style.overflow="hidden",n.value=!0)},f=()=>{const r=b(w(e));!r||!n.value||(M&&(o==null||o()),r.style.overflow=s,S.delete(r),n.value=!1)};return A(f),O({get(){return n.value},set(r){r?u():f()}})}function U(){let e=!1;const t=h(!1);return(n,o)=>{if(t.value=o.value,e)return;e=!0;const s=Q(n,o.value);m(t,u=>s.value=u)}}U();export{w as a,D as i,A as t,ee as v};
